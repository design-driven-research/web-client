{"version":3,"sources":["postmortem/utils.cljc"],"mappings":";AAKA","names":[],"sourcesContent":["(ns postmortem.utils\n  (:require #?(:clj [net.cgrand.macrovich :as macros]))\n  #?(:cljs (:require-macros [net.cgrand.macrovich :as macros]\n                            [postmortem.utils :refer [with-lock]])))\n\n(macros/deftime\n\n  ;; to avoid using the locking macro, which is problematic in some environments (see CLJ-1472)\n  (defmacro with-lock [lock & body]\n    (macros/case\n      :clj\n      `(let [lock# ~lock]\n         (.lock lock#)\n         (try\n           ~@body\n           (finally\n             (.unlock lock#))))\n      :cljs\n      `(do ~@body)))\n\n  )\n"]}